*Settings*                          
Documentation   获取会员接口，otps会调用此接口      
Library     ../../../../Resources/uxin_request.py       
Library     ../../../../Resources/tools_library.py                  
Resource    ../../../../Resources/check_operation.txt
Resource    ../../../../Resources/db_operation.txt                      
Variables   ../../../../Resources/global_config.py    
Variables   ../../../../Resources/interface_data.py                     
                            
*Test Cases*                            
queryVip_umember_notshownum 
    [Documentation]     获取会员成功，不返回显号信息。
    [Tags]  normal  P0  offline         
    #初始化数据      
    ${sign}=    encrypt    ${normal_uid}goodscenter$%^456   md5               
    ${params}=   create dictionary   uid=${normal_uid}  sign=${sign}             
    ${headers}=     Set Variable    Content-Type=application/json;charset=utf-8             
    #调用接口                       
    ${resp}=    get_general    ${goodscenter_url}  queryVip.act    headers=${headers}  params=${params}  
    #打印结果，用于调试                      
    log     ${resp.content}                 
    #校验返回                       
    should contain many     ${resp.content}     "msg":"success","result":0      "umember"     startTime    endTime

queryVip_shownum 
    [Documentation]     返回显号信息。
    [Tags]  normal  P0  offline   todo        
    #初始化数据      
    ${sign}=    encrypt    ${servvalid_uid}goodscenter$%^456   md5               
    ${params}=   create dictionary   uid=${servvalid_uid}  sign=${sign}             
    ${headers}=     Set Variable    Content-Type=application/json;charset=utf-8             
    #调用接口                       
    ${resp}=    get_general    ${goodscenter_url}  queryVip.act    headers=${headers}  params=${params}  
    #打印结果，用于调试                      
    log     ${resp.content}                 
    #校验返回                       
    should contain many     ${resp.content}     "msg":"success","result":0


queryVip_uid_error
    [Documentation]     uid格式错误
    [Tags]  normal  P0  offline          
    #初始化数据      
    ${sign}=    encrypt    abcgoodscenter$%^456   md5               
    ${params}=   create dictionary   uid=abc  sign=${sign}             
    ${headers}=     Set Variable    Content-Type=application/json;charset=utf-8             
    #调用接口                       
    ${resp}=    get_general    ${goodscenter_url}  queryVip.act    headers=${headers}  params=${params}  
    #打印结果，用于调试                      
    log     ${resp.content}                 
    #校验返回                       
    should contain many     ${resp.content}     "msg":"Illegal access with error param format!"    "result":-1


queryVip_uid_not_exist
    [Documentation]     uid不存在
    [Tags]  normal  P0  offline          
    #初始化数据      
    ${sign}=    encrypt    9999999999goodscenter$%^456   md5               
    ${params}=   create dictionary   uid=9999999999  sign=${sign}             
    ${headers}=     Set Variable    Content-Type=application/json;charset=utf-8             
    #调用接口                       
    ${resp}=    get_general    ${goodscenter_url}  queryVip.act    headers=${headers}  params=${params}  
    #打印结果，用于调试                      
    log     ${resp.content}                 
    #校验返回                       
    should contain many     ${resp.content}     "msg":"success","result":0


queryVip_sign_error
    [Documentation]     签名错误
    [Tags]  normal  P0  offline          
    #初始化数据                  
    ${params}=   create dictionary   uid=9999999999  sign=abc             
    ${headers}=     Set Variable    Content-Type=application/json;charset=utf-8             
    #调用接口                       
    ${resp}=    get_general    ${goodscenter_url}  queryVip.act    headers=${headers}  params=${params}  
    #打印结果，用于调试                      
    log     ${resp.content}                 
    #校验返回                       
    should contain many     ${resp.content}     "msg":"sign error"     "result":-1
